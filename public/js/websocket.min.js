function t(t){this.wrapped=t}function e(e){var n,r;function o(n,r){try{var c=e[n](r),u=c.value,a=u instanceof t;Promise.resolve(a?u.wrapped:u).then((function(t){a?o("return"===n?"return":"next",t):i(c.done?"return":"normal",t)}),(function(t){o("throw",t)}))}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(t,e){return new Promise((function(i,c){var u={key:t,arg:e,resolve:i,reject:c,next:null};r?r=r.next=u:(n=r=u,o(t,e))}))},"function"!=typeof e.return&&(this.return=void 0)}e.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)};function n(t,e){return i(t,o(t,e,"get"))}function r(t,e,n){return c(t,o(t,e,"set"),n),n}function o(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function i(t,e){return e.get?e.get.call(t):e.value}function c(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function u(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t,e){return t(e={exports:{}},e.exports),e.exports}var f,l,p=function(t){return t&&t.Math==Math&&t},h=p("object"==typeof globalThis&&globalThis)||p("object"==typeof window&&window)||p("object"==typeof self&&self)||p("object"==typeof a&&a)||function(){return this}()||Function("return this")(),y={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},v=function(t){try{return!!t()}catch(t){return!0}},d={}.toString,b="".split,g=v((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==function(t){return d.call(t).slice(8,-1)}(t)?b.call(t,""):Object(t)}:Object,w=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},m=function(t){return g(w(t))},S=function(t,e){try{Object.defineProperty(h,t,{value:e,configurable:!0,writable:!0})}catch(n){h[t]=e}return e},O=h["__core-js_shared__"]||S("__core-js_shared__",{}),j=s((function(t){(t.exports=function(t,e){return O[t]||(O[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.16.4",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),T=function(t){return Object(w(t))},k={}.hasOwnProperty,P=Object.hasOwn||function(t,e){return k.call(T(t),e)},_=0,L=Math.random(),E=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++_+L).toString(36)},x=function(t){return"function"==typeof t?t:void 0},A=function(t,e){return arguments.length<2?x(h[t]):h[t]&&h[t][e]},C=A("navigator","userAgent")||"",I=h.process,M=h.Deno,R=I&&I.versions||M&&M.version,F=R&&R.v8;F?l=(f=F.split("."))[0]<4?1:f[0]+f[1]:C&&(!(f=C.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=C.match(/Chrome\/(\d+)/))&&(l=f[1]);var G,W=l&&+l,D=!!Object.getOwnPropertySymbols&&!v((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&W&&W<41})),N=D&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,V=j("wks"),z=h.Symbol,H=N?z:z&&z.withoutSetter||E,q=function(t){return P(V,t)&&(D||"string"==typeof V[t])||(D&&P(z,t)?V[t]=z[t]:V[t]=H("Symbol."+t)),V[t]},B=function(t){return"object"==typeof t?null!==t:"function"==typeof t},U=function(t){if(!B(t))throw TypeError(String(t)+" is not an object");return t},Y=!v((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),J=h.document,K=B(J)&&B(J.createElement),X=function(t){return K?J.createElement(t):{}},Q=!Y&&!v((function(){return 7!=Object.defineProperty(X("div"),"a",{get:function(){return 7}}).a})),Z=N?function(t){return"symbol"==typeof t}:function(t){var e=A("Symbol");return"function"==typeof e&&Object(t)instanceof e},$=q("toPrimitive"),tt=function(t,e){if(!B(t)||Z(t))return t;var n,r=t[$];if(void 0!==r){if(void 0===e&&(e="default"),n=r.call(t,e),!B(n)||Z(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&"function"==typeof(n=t.toString)&&!B(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!B(r=n.call(t)))return r;if("string"!==e&&"function"==typeof(n=t.toString)&&!B(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(t,e)},et=function(t){var e=tt(t,"string");return Z(e)?e:String(e)},nt=Object.defineProperty,rt={f:Y?nt:function(t,e,n){if(U(t),e=et(e),U(n),Q)try{return nt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},ot=Math.ceil,it=Math.floor,ct=function(t){return isNaN(t=+t)?0:(t>0?it:ot)(t)},ut=Math.min,at=Math.max,st=Math.min,ft=function(t){return function(e,n,r){var o,i,c=m(e),u=(o=c.length)>0?ut(ct(o),9007199254740991):0,a=function(t,e){var n=ct(t);return n<0?at(n+e,0):st(n,e)}(r,u);if(t&&n!=n){for(;u>a;)if((i=c[a++])!=i)return!0}else for(;u>a;a++)if((t||a in c)&&c[a]===n)return t||a||0;return!t&&-1}},lt={includes:ft(!0),indexOf:ft(!1)},pt={},ht=lt.indexOf,yt=function(t,e){var n,r=m(t),o=0,i=[];for(n in r)!P(pt,n)&&P(r,n)&&i.push(n);for(;e.length>o;)P(r,n=e[o++])&&(~ht(i,n)||i.push(n));return i},vt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dt=Object.keys||function(t){return yt(t,vt)},bt=Y?Object.defineProperties:function(t,e){U(t);for(var n,r=dt(e),o=r.length,i=0;o>i;)rt.f(t,n=r[i++],e[n]);return t},gt=A("document","documentElement"),wt=j("keys"),mt=function(t){return wt[t]||(wt[t]=E(t))},St=mt("IE_PROTO"),Ot=function(){},jt=function(t){return"<script>"+t+"<\/script>"},Tt=function(t){t.write(jt("")),t.close();var e=t.parentWindow.Object;return t=null,e},kt=function(){try{G=new ActiveXObject("htmlfile")}catch(t){}var t,e;kt="undefined"!=typeof document?document.domain&&G?Tt(G):((e=X("iframe")).style.display="none",gt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(jt("document.F=Object")),t.close(),t.F):Tt(G);for(var n=vt.length;n--;)delete kt.prototype[vt[n]];return kt()};pt[St]=!0;var Pt=Object.create||function(t,e){var n;return null!==t?(Ot.prototype=U(t),n=new Ot,Ot.prototype=null,n[St]=t):n=kt(),void 0===e?n:bt(n,e)},_t=q("unscopables"),Lt=Array.prototype;null==Lt[_t]&&rt.f(Lt,_t,{configurable:!0,value:Pt(null)});var Et=function(t){Lt[_t][t]=!0},xt={},At=Function.toString;"function"!=typeof O.inspectSource&&(O.inspectSource=function(t){return At.call(t)});var Ct,It,Mt,Rt=O.inspectSource,Ft=h.WeakMap,Gt="function"==typeof Ft&&/native code/.test(Rt(Ft)),Wt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Dt=Y?function(t,e,n){return rt.f(t,e,Wt(1,n))}:function(t,e,n){return t[e]=n,t},Nt=h.WeakMap;if(Gt||O.state){var Vt=O.state||(O.state=new Nt),zt=Vt.get,Ht=Vt.has,qt=Vt.set;Ct=function(t,e){if(Ht.call(Vt,t))throw new TypeError("Object already initialized");return e.facade=t,qt.call(Vt,t,e),e},It=function(t){return zt.call(Vt,t)||{}},Mt=function(t){return Ht.call(Vt,t)}}else{var Bt=mt("state");pt[Bt]=!0,Ct=function(t,e){if(P(t,Bt))throw new TypeError("Object already initialized");return e.facade=t,Dt(t,Bt,e),e},It=function(t){return P(t,Bt)?t[Bt]:{}},Mt=function(t){return P(t,Bt)}}var Ut,Yt,Jt,Kt={set:Ct,get:It,has:Mt,enforce:function(t){return Mt(t)?It(t):Ct(t,{})},getterFor:function(t){return function(e){var n;if(!B(e)||(n=It(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Xt={}.propertyIsEnumerable,Qt=Object.getOwnPropertyDescriptor,Zt={f:Qt&&!Xt.call({1:2},1)?function(t){var e=Qt(this,t);return!!e&&e.enumerable}:Xt},$t=Object.getOwnPropertyDescriptor,te={f:Y?$t:function(t,e){if(t=m(t),e=et(e),Q)try{return $t(t,e)}catch(t){}if(P(t,e))return Wt(!Zt.f.call(t,e),t[e])}},ee=s((function(t){var e=Kt.get,n=Kt.enforce,r=String(String).split("String");(t.exports=function(t,e,o,i){var c,u=!!i&&!!i.unsafe,a=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||P(o,"name")||Dt(o,"name",e),(c=n(o)).source||(c.source=r.join("string"==typeof e?e:""))),t!==h?(u?!s&&t[e]&&(a=!0):delete t[e],a?t[e]=o:Dt(t,e,o)):a?t[e]=o:S(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Rt(this)}))})),ne=vt.concat("length","prototype"),re={f:Object.getOwnPropertyNames||function(t){return yt(t,ne)}},oe={f:Object.getOwnPropertySymbols},ie=A("Reflect","ownKeys")||function(t){var e=re.f(U(t)),n=oe.f;return n?e.concat(n(t)):e},ce=function(t,e){for(var n=ie(e),r=rt.f,o=te.f,i=0;i<n.length;i++){var c=n[i];P(t,c)||r(t,c,o(e,c))}},ue=/#|\.prototype\./,ae=function(t,e){var n=fe[se(t)];return n==pe||n!=le&&("function"==typeof e?v(e):!!e)},se=ae.normalize=function(t){return String(t).replace(ue,".").toLowerCase()},fe=ae.data={},le=ae.NATIVE="N",pe=ae.POLYFILL="P",he=ae,ye=te.f,ve=!v((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),de=mt("IE_PROTO"),be=Object.prototype,ge=ve?Object.getPrototypeOf:function(t){return t=T(t),P(t,de)?t[de]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?be:null},we=q("iterator"),me=!1;[].keys&&("next"in(Jt=[].keys())?(Yt=ge(ge(Jt)))!==Object.prototype&&(Ut=Yt):me=!0);var Se=null==Ut||v((function(){var t={};return Ut[we].call(t)!==t}));Se&&(Ut={}),P(Ut,we)||Dt(Ut,we,(function(){return this}));var Oe={IteratorPrototype:Ut,BUGGY_SAFARI_ITERATORS:me},je=rt.f,Te=q("toStringTag"),ke=function(t,e,n){t&&!P(t=n?t:t.prototype,Te)&&je(t,Te,{configurable:!0,value:e})},Pe=Oe.IteratorPrototype,_e=function(){return this},Le=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return U(n),function(t){if(!B(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Ee=Oe.IteratorPrototype,xe=Oe.BUGGY_SAFARI_ITERATORS,Ae=q("iterator"),Ce=function(){return this},Ie=Kt.set,Me=Kt.getterFor("Array Iterator"),Re=function(t,e,n,r,o,i,c){!function(t,e,n){var r=e+" Iterator";t.prototype=Pt(Pe,{next:Wt(1,n)}),ke(t,r,!1),xt[r]=_e}(n,e,r);var u,a,s,f=function(t){if(t===o&&d)return d;if(!xe&&t in y)return y[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",p=!1,y=t.prototype,v=y[Ae]||y["@@iterator"]||o&&y[o],d=!xe&&v||f(o),b="Array"==e&&y.entries||v;if(b&&(u=ge(b.call(new t)),Ee!==Object.prototype&&u.next&&(ge(u)!==Ee&&(Le?Le(u,Ee):"function"!=typeof u[Ae]&&Dt(u,Ae,Ce)),ke(u,l,!0))),"values"==o&&v&&"values"!==v.name&&(p=!0,d=function(){return v.call(this)}),y[Ae]!==d&&Dt(y,Ae,d),xt[e]=d,o)if(a={values:f("values"),keys:i?d:f("keys"),entries:f("entries")},c)for(s in a)(xe||p||!(s in y))&&ee(y,s,a[s]);else!function(t,e){var n,r,o,i,c,u=t.target,a=t.global,s=t.stat;if(n=a?h:s?h[u]||S(u,{}):(h[u]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(c=ye(n,r))&&c.value:n[r],!he(a?r:u+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;ce(i,o)}(t.sham||o&&o.sham)&&Dt(i,"sham",!0),ee(n,r,i,t)}}({target:e,proto:!0,forced:xe||p},a);return a}(Array,"Array",(function(t,e){Ie(this,{type:"Array Iterator",target:m(t),index:0,kind:e})}),(function(){var t=Me(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");xt.Arguments=xt.Array,Et("keys"),Et("values"),Et("entries");var Fe=q("iterator"),Ge=q("toStringTag"),We=Re.values;for(var De in y){var Ne=h[De],Ve=Ne&&Ne.prototype;if(Ve){if(Ve[Fe]!==We)try{Dt(Ve,Fe,We)}catch(t){Ve[Fe]=We}if(Ve[Ge]||Dt(Ve,Ge,De),y[De])for(var ze in Re)if(Ve[ze]!==Re[ze])try{Dt(Ve,ze,Re[ze])}catch(t){Ve[ze]=Re[ze]}}}var He=new WeakMap,qe=new WeakMap,Be=new WeakMap,Ue=new WeakSet,Ye=new WeakSet;class Je{constructor(t,e,n){Ye.add(this),Ue.add(this),He.set(this,{writable:!0,value:void 0}),qe.set(this,{writable:!0,value:{}}),Be.set(this,{writable:!0,value:null}),r(this,He,t),u(this,Ue,Ke).call(this,e,n)}static connect(t,e=null){if(void 0===global.ab)throw new Error("GosSocket requires AutobahnJS to be loaded.");return new Je(global.ab,t,e)}get autobahn(){return n(this,He)}get session(){return n(this,Be)}isConnected(){return null!==n(this,Be)}off(t,e){if(!(n(this,qe)[t]instanceof Array))return;let r,o=n(this,qe)[t],i=o.length;for(r=0;r<i;r++)if(o[r]===e){o.splice(r,1);break}}on(t,e){void 0===n(this,qe)[t]&&(n(this,qe)[t]=[]),n(this,qe)[t].push(e)}publishToTopic(t,e={}){if(!this.isConnected())throw new Error("Websocket session is not active, cannot publish to URI");n(this,Be).publish(t,e)}rpcCall(t,e={}){if(!this.isConnected())throw new Error("Websocket session is not active, cannot perform RPC call");return n(this,Be).call(t,e)}subscribeToChannel(t,e){if(!this.isConnected())throw new Error("Websocket session is not active, cannot subscribe to channel");try{n(this,Be).subscribe(t,e)}catch(t){if(-1===t.message.indexOf(" already subscribed for topic "))throw t}}unsubscribeFromChannel(t,e){if(!this.isConnected())throw new Error("Websocket session is not active, cannot unsubscribe from channel");try{n(this,Be).unsubscribe(t,e)}catch(t){if(-1===t.message.indexOf("not subscribed to topic ")&&-1===t.message.indexOf(" subscribed on topic "))throw t}}}function Ke(t,e=null){n(this,He).connect(t,(t=>{r(this,Be,t),u(this,Ye,Xe).call(this,"socket/connect",t)}),((t,e,n)=>{r(this,Be,null),u(this,Ye,Xe).call(this,"socket/disconnect",{code:t,reason:e})}),e)}function Xe(t,e=null){if(!(n(this,qe)[t]instanceof Array))return;let r,o=n(this,qe)[t],i=o.length;for(r=0;r<i;r++)o[r].call(this,e)}export{Je as default};
